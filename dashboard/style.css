/* ------- Dashboard Styling -------- */
/* 
    These are the global styles of the dashboard, they are applied to all elements.
    The dashboard container is made so that it is centered within the page and has a max witdth.
    The max-width parameter can be adjusted to auto if we want it to occupy the full width of the screen.
    For now I have it in 1600px to visualize everything better on my screen.
*/

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Arial', sans-serif;
    background-color: #f5f5f5;
    color: #333;
}

.dashboard-container {
    width: 99vw;
    height: 99vh;
    margin: 5px;
    padding: 10px;
    background-color: white;
    border: 2px solid #333;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    box-sizing: border-box;
}

/* ------- Title Section -------- */
/* 
    These are the main sections of the title, so they basically define the looks of the 
    heading (h1) and the subheading (h2). 

*/
.title-section {
    text-align: center;
    border-bottom: 2px solid #333;
    padding-bottom: 0.5vw;
}

.title-section h1 {
    font-size: 2.5em;
    font-weight: bold;
    letter-spacing: 2px;
    margin-bottom: 2px;
}

.title-section h2 {
    font-size: 2em;
    font-weight: normal;
    color: #666;
}

/* ------- Filter Section -------- */
/* 
    The filter section seems complex, but it only has this many elements because of the interactivity of the buttons.
    The .filter-section is the main container that holds everything. The .behavior-filters and .color-filters are the sub-containers
    that group the related filters together.

    Apart from this, the rest are just styles for the buttons and the color options.
*/
.filter-section {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: center;
    padding: 5px;
    margin: 10px;
    background-color: #f9f9f9;
    border: 1px solid #ddd;
    overflow: visible;
    gap: 1vw;
}

.behavior-filters {
    display: flex;
    gap: 1vw;
    align-items: flex-start;
    overflow: visible;
}

/* Dropdown Container */
.filter-dropdown {
    position: relative;
    display: inline-block;
}

.filter-btn {
    padding: 8px 16px;
    border: 2px solid #333;
    background-color: #e0e0e0;
    cursor: pointer;
    font-size: 14px;
    font-weight: bold;
    transition: background-color 0.3s;
    min-width: 100px;
}

.filter-btn:hover {
    background-color: #d0d0d0;
}

.filter-btn.active {
    background-color: #4CAF50;
    color: white;
    border-color: #4CAF50;
}

/* Dropdown Content */
.dropdown-content {
    display: none;
    position: absolute;
    top: 100%;
    left: 0;
    background-color: white;
    min-width: 160px;
    border: 2px solid #333;
    border-top: none;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    z-index: 1000;
    padding: 5px 0;
}

.dropdown-content.show {
    display: block;
}

/* Checkbox Items */
.checkbox-item {
    display: flex;
    align-items: center;
    padding: 8px 12px;
    cursor: pointer;
    font-size: 13px;
    transition: background-color 0.2s;
}

.checkbox-item:hover {
    background-color: #f1f1f1;
}

.checkbox-item input[type="checkbox"] {
    margin-right: 8px;
    cursor: pointer;
}

.checkbox-item span {
    cursor: pointer;
    user-select: none;
}

.color-filters {
    display: flex;
    align-items: center;
    gap: 10px;
}

.label {
    font-weight: bold;
    font-size: 14px;
}

.color-options {
    display: flex;
    gap: 5px;
}

.color-option {
    cursor: pointer;
    padding: 5px;
    border: 2px solid transparent;
    border-radius: 50%;
}

.color-option.active {
    border-color: #333;
}

.squirrel-icon {
  width: 36px;
  height: 36px;
  object-fit: contain;  /* keeps aspect ratio */
  cursor: pointer;
}

.reset-filters {
    display: flex;
    align-items: center;
    gap: 10px;
}

#reset-filters-btn {
    cursor: pointer;
    padding: 8px 12px;
    border: 2px solid #333;
    border-radius: 25px;
    background-color: #e0e0e0;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: all 0.3s ease;
    user-select: none;
    font-weight: bold;
    font-size: 14px;
    color: #333;
}

#reset-filters-btn:hover {
    background-color: #d0d0d0;
}

/* Red X icon */
#reset-filters-btn::before {
    content: "âœ–"; /* Unicode cross mark */
    color: #f44336; /* red */
    font-size: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Green click effect */
#reset-filters-btn:active {
    background-color: #4CAF50;
    color: white;
    border-color: #4CAF50;
}

#reset-filters-btn:active::before {
    color: white; /* X turns white when clicked */
}


.dog-filter {
    display: flex;
    align-items: center;
    gap: 10px;
}

.dog-toggle {
    cursor: pointer;
    padding: 8px 12px;
    border: 2px solid #333;
    border-radius: 25px;
    background-color: #e0e0e0;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: all 0.3s ease;
    user-select: none;
}

.dog-toggle:hover {
    background-color: #d0d0d0;
}

.dog-toggle.active {
    background-color: #4CAF50;
    color: white;
    border-color: #4CAF50;
}

.dog-toggle.active .toggle-text {
    color: white;
}

.dog-icon {
    font-size: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.toggle-text {
    font-size: 14px;
    font-weight: bold;
    color: #333;
    transition: color 0.3s ease;
}

/* ------- Dashboard Content -------- */
/*
    The dashboard content is the main area where the visualizations are displayed. It basically holds
    all the charts and the map.
*/
.dashboard-content {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

/* ------- Map Section -------- */
/*
    The map section is designed to occupy the full width of the dashboard content area.
    It has a border and padding to separate it visually from other sections.

    For now, the .Map div is just a placeholder with a gray background. We have to change it later to the actual map
    It could also occupy all the space, depending on how we want to visualize it. We can eliminate the white margins.
*/
.map-section {
    border: 2px solid #333;
    padding: 5px;
    width: 100%;
    box-sizing: border-box;
}

.Map {
    width: 100%;
    min-height: 160px;
    height: 30vh;
    background-color: #f0f0f0;
    /* Remove background image when map is active */
    position: relative;
    overflow: hidden;
}

/* Default state - show background image when no map */
.Map:empty {
    display: flex;
    align-items: center;
    justify-content: center;
    color: #666;
    font-size: 2vw;
    background-image: url('../images/central-park.jpeg');
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
}

/* When map is loaded, ensure it fills the container */
.Map #squirrel-map {
    width: 100%;
    height: 100%;
    border: none;
    margin: 0;
    padding: 0;
}

/* MapLibre GL specific styles */
.Map .maplibregl-canvas {
    width: 100% !important;
    height: 100% !important;
}

.Map .maplibregl-control-container {
    position: absolute;
}

/* ------- Bottom Charts Section -------- */
.bottom-charts {
    display: grid;
    grid-template-columns: 5fr 4fr; /* 5/4 ratio */
    gap: 10px;
    height: 35vh;
    min-height: 200px;
}


/* ------- Charts Section -------- */
/*
    Same explanation as the map.
*/
.butterfly-section,
.linechart-section {
    border: 2px solid #333;
    padding: 10px;
    background-color: white;
    min-height: 280px;
    height: 45vh;
    position: relative;
}

.butterfly-section h3,
.linechart-section h3 {
    text-align: center;
    margin: 5px;
    font-size: 20px;
    font-weight: bold;
}

.butterfly-title {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    margin: 0;
    font-size: 20px;
    font-weight: bold;
    white-space: nowrap;
}

.ButterflyChart {
    width: 100%;
    height: 40vh;
    /* background-color: #f9f9f9;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #666;
    font-size: 12px;
    background-image: url('../images/butterfly-chart.jpeg');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center; */
}

.frequency-label {
    text-align: center;
    font-size: 1vw;
    font-style: italic;
}

.LineChart {
    width: 100%;
    height: 40vh;
    min-height: 280px;
}


/* ------- SVG Styles -------- */
.axis {
    font-size: 12px;
}

.axis-label {
    font-size: 14px;
    font-weight: bold;
}

.legend {
    font-size: 12px;
}

/* ------- Toggle Button Styling for Butterfly Chart ------- */

/* ------- Toggle Container with Labels ------- */
.toggle-container {
  display: flex;
  align-items: center;
  gap: 8px; /* space between text and switch */
}

/* Label text */
.toggle-label {
  font-size: 13px;
  font-weight: 600;
  color: #333;
  user-select: none;
}

.toggle-label.left {
  margin-right: 4px;
}

.toggle-label.right {
  margin-left: 4px;
}
/* ------- Toggle Switch ------- */
.switch {
  position: relative;
  display: inline-block;
  width: 46px;
  height: 26px;
}

.switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

/* The slider background */
.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #ccc;
  transition: 0.4s;
  border-radius: 26px;
}

/* The knob */
.slider:before {
  position: absolute;
  content: "";
  height: 20px;
  width: 20px;
  left: 3px;
  bottom: 3px;
  background-color: white;
  transition: 0.4s;
  border-radius: 50%;
}

/* When checked (ON) */
input:checked + .slider {
  background-color: #4CAF50;  
}

input:checked + .slider:before {
  transform: translateX(20px);
}

/* Green hover effect */
.slider:hover {
  box-shadow: 0 0 2px #4CAF50;
}



/* ------- Responsive Design -------- */
@media (max-width: 768px) {
    .dashboard-container {
        padding: 10px;
    }
    .bottom-charts {
        grid-template-columns: 1fr;
        height: auto;
    }
    .filter-section {
        flex-direction: column;
        gap: 2vw;
    }
    .behavior-filters {
        justify-content: center;
        flex-wrap: wrap;
    }
    .Map {
        height: 25vh;
        min-height: 120px;
    }
    .ButterflyChart {
        height: 20vh;
        min-height: 100px;
    }
}